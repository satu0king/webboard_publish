<html lang="en">
    <head>
        <%= csrf_meta_tags %>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link href="css/webboard.css" type="text/css" rel="stylesheet">
        <link rel="shortcut icon" href="css/webboard.ico" type="image/x-icon" />
        <title>View</title>
        <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js" integrity="sha384-CchuzHs077vGtfhGYl9Qtc7Vx64rXBXdIAZIPbItbNyWIRTdG0oYAqki3Ry13Yzu" crossorigin="anonymous"></script>
        <script src="/jquery.js"></script>
        <script src="/js/pdf.js"></script>
    </head>

<body onload="loader();sessionLoad(<%=@lecture.to_json%>,'<%=@pdf%>');" style="margin:0; background-color: white;">
    <script>
        userSignedIn = <%= user_signed_in? %>;
    </script>
        <div id="loader"></div>
        
                
                <!-- CSS and Javascript for next and pre page -->
                <style>
                    .nextpage:hover {
                        background: grey;
                    }
                    .prevpage:hover {
                        background: grey;
                    }
                    .pdfDownload:hover{
                        background: grey;
                    }

                </style>
                <script>

                    function init(){

                        document.addEventListener('keyup', function(event) {
                            var pageno = PageNo();
                            var sessionlenght = SessionLenght();

                            if(event.keyCode === 39 && pageno < sessionlenght-1){
                                nextPage();
                            }
                            if(event.keyCode === 37){
                                prevPage();
                            }
                        });
                    }
                    window.addEventListener('load',init());

                </script>
                <!--  ....................................................... -->

                <div  onclick = "prevPage()" style="float: left;padding-top: 21%;height: 100%;" class="prevpage" >
                    <img src="/asset/previous.png" height="40" width="40">
                </div>
                <div style="float: right;padding-top: 22%;height: 100%;" onclick = "nextPage()" class="nextpage" >
                    <img src="/asset/next.png" height="40" width="40">
                </div>
                <div onclick = "savePDF(sessionObject)" style="position: absolute; border: 2px solid black;" class="pdfDownload">
                    <img src="/asset/pdf-download.png" height="40" width="40">
                </div>


            <div id="sketch">

            <div class="page is-dark">Page 1 of 1</div>
            <div class="currentTime is-dark"></div>

            <div class="canvasArea" style="position:relative;">
    			<canvas id="mycanvas" class="canvas1" style="position: absolute; left: 0; top: 0; z-index: 1; width:100%;height:100%">Your Browser Does Not Support WebBoard</canvas>
    			<canvas id="tmp_canvas" class="canvas1" style="position: absolute; left: 0; top: 0; z-index: 2; width:100%;height:100%">Your Browser Does Not Support WebBoard</canvas>
                <canvas id="pdf_canvas" class="canvas1" style="position: absolute; left: 0; top: 0; z-index: 0; width:100%;height:100%">Your Browser Does Not Support WebBoard</canvas>
            </div>

            
              
            
        <!-- <canvas id="mycanvas"></canvas> -->
        </div>
        <div class="player is-dark" >
                <input type="range" min="0" max="100" value="0" class="slider" id="animationSlider" id="animationSlider" oninput="animationObject.slide(this.value)" >
                <button onClick="animationObject.start()"> Play </button>
                <button onClick="animationObject.pause()"> Pause </button>
                <button onClick="animationObject.reset()"> Reset </button>
                <select id="Speed">
                    <option value="1">Normal</option>
                    <option value="2">2x</option>
                    <option value="4">4x</option>
                    <option value="8">8x</option>
                    <option value="16">16x</option>
                </select>
                
             </div>

      

        <link rel="stylesheet" type="text/css" href="/css/webboard.css"/>
        <script src="/js/jspdf.min.js"></script>
        <script src="/js/sweetalert.min.js"></script>
        <script src="/js/canvas.js"></script>
        <script src="/js/render.js"></script>
        <script src="/js/strokes.js"></script>
        <script src="/js/canvasApi.js"></script>
        <script src="/js/loader.js"></script>
        <script src="/js/listeners.js"></script>
        <script src="/js/view.js"></script>
        <script src="/js/simplify.js"></script>
        <script src="/js/lzma_worker.js"></script>
        <script language="javascript" src="/js/lz-string.js"></script>
        <script src="/js/pdfjs-helper.js"></script>
</body>
</html>
